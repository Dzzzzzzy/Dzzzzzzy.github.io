<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>今日实时薪资可视化</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            background: #f5f7fa;
            font-family: 'Segoe UI', '微软雅黑', Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }
        .container {
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
            padding: 32px 28px 24px 28px;
            min-width: 320px;
        }
        h2 {
            text-align: center;
            margin-bottom: 22px;
            color: #333;
            letter-spacing: 2px;
        }
        .form-group {
            margin-bottom: 18px;
        }
        .form-group label {
            display: block;
            margin-bottom: 6px;
            color: #444;
            font-size: 15px;
        }
        .form-group input {
            width: 100%;
            padding: 8px 10px;
            font-size: 16px;
            border: 1px solid #d2d6dc;
            border-radius: 6px;
            outline: none;
            transition: border-color 0.2s;
        }
        .form-group input:focus {
            border-color: #4f8cff;
        }
        .result {
            margin-top: 24px;
            padding: 16px;
            background: #e6f0ff;
            border-radius: 7px;
            text-align: center;
            font-size: 28px;
            color: #2369c6;
            box-shadow: 0 1px 4px rgba(79,140,255,0.08);
            font-variant-numeric: tabular-nums;
            font-weight: bold;
        }
        .progress-bar {
            margin-top: 16px;
            width: 100%;
            height: 18px;
            background: #f0f4f8;
            border-radius: 9px;
            overflow: hidden;
        }
        .progress-bar-inner {
            height: 100%;
            background: linear-gradient(90deg, #4f8cff 0%, #58c3ff 100%);
            transition: width 0.5s;
        }
        .tip {
            text-align: center;
            margin-top: 10px;
            color: #888;
            font-size: 14px;
        }
        @media (max-width: 400px) {
            .container {
                min-width: unset;
                padding: 18px 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>今日实时薪资</h2>
        <div class="form-group">
            <label for="salary">每月工资（元）</label>
            <input type="number" id="salary" placeholder="请输入每月工资">
        </div>
        <div class="form-group">
            <label for="days">每月工作天数</label>
            <input type="number" id="days" placeholder="请输入工作天数">
        </div>
        <div class="form-group">
            <label for="hours">每天工作时长（小时）</label>
            <input type="number" id="hours" placeholder="请输入工作时长">
        </div>
        <div class="form-group">
            <label for="startTime">每天上班时间（24小时制，如09:00）</label>
            <input type="time" id="startTime" value="09:00">
        </div>
        <div class="result" id="result">
            今日已赚：-- 元
        </div>
        <div class="progress-bar">
            <div class="progress-bar-inner" id="progressBarInner" style="width:0%"></div>
        </div>
        <div class="tip" id="tip">
            工作时间内，工资实时增长
        </div>
    </div>
    <script>
        const salaryInput = document.getElementById('salary');
        const daysInput = document.getElementById('days');
        const hoursInput = document.getElementById('hours');
        const startTimeInput = document.getElementById('startTime');
        const resultDiv = document.getElementById('result');
        const progressBarInner = document.getElementById('progressBarInner');
        const tipDiv = document.getElementById('tip');

        function parseTime(timeStr) {
            const parts = timeStr.split(':');
            return {
                hour: parseInt(parts[0], 10),
                minute: parseInt(parts[1], 10)
            };
        }

        function calculate() {
            const salary = parseFloat(salaryInput.value);
            const days = parseInt(daysInput.value, 10);
            const hours = parseFloat(hoursInput.value);
            const startTimeStr = startTimeInput.value || "09:00";
            if (isNaN(salary) || isNaN(days) || isNaN(hours) || days <= 0 || hours <= 0) {
                resultDiv.textContent = '今日已赚：-- 元';
                progressBarInner.style.width = '0%';
                tipDiv.textContent = '请填写完整信息';
                return;
            }
            // 计算今天的总工资
            const perDaySalary = salary / days;
            // 每秒工资
            const perSecondSalary = perDaySalary / (hours * 3600);

            // 当前时间
            const now = new Date();
            // 上班时间
            const start = parseTime(startTimeStr);
            const startSeconds = start.hour * 3600 + start.minute * 60;
            const totalSecondsPerDay = hours * 3600;
            const endSeconds = startSeconds + totalSecondsPerDay;

            // 当前时间（当天0点到现在）的秒数
            const nowSeconds = now.getHours() * 3600 + now.getMinutes() * 60 + now.getSeconds();

            let todayEarned = 0;
            let progress = 0;
            if (nowSeconds < startSeconds) {
                todayEarned = 0;
                progress = 0;
                tipDiv.textContent = "上班还未开始";
            } else if (nowSeconds >= endSeconds) {
                todayEarned = perDaySalary;
                progress = 100;
                tipDiv.textContent = "今日工作已结束";
            } else {
                todayEarned = (nowSeconds - startSeconds) * perSecondSalary;
                progress = ((nowSeconds - startSeconds) / totalSecondsPerDay) * 100;
                tipDiv.textContent = "工作时间内，工资实时增长";
            }

            resultDiv.textContent = '今日已赚：' + todayEarned.toFixed(2) + ' 元';
            progressBarInner.style.width = progress + '%';
        }

        salaryInput.addEventListener('input', calculate);
        daysInput.addEventListener('input', calculate);
        hoursInput.addEventListener('input', calculate);
        startTimeInput.addEventListener('input', calculate);

        // 每秒更新时间
        setInterval(calculate, 1000);
        // 初始计算
        calculate();
    </script>
</body>
</html>
